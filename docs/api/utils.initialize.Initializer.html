

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Initializer &mdash; hst_cosmic_rays  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="GenerateMetadata" href="utils.metadata.GenerateMetadata.html" />
    <link rel="prev" title="DataWriter" href="utils.datahandler.DataWriter.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> hst_cosmic_rays
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pipeline.html">pipeline</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pipeline_config.html">pipeline configuration file</a></li>
<li class="toctree-l1"><a class="reference internal" href="../download.html">download</a></li>
<li class="toctree-l1"><a class="reference internal" href="../label.html">label</a></li>
<li class="toctree-l1"><a class="reference internal" href="../process.html">process</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stat_utils.html">stat_utils</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../utils.html">utils</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../utils.html#module-utils.datahandler">utils.datahandler Module</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../utils.html#module-utils.initialize">utils.initialize Module</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="../utils.html#id1">Classes</a><ul class="current">
<li class="toctree-l4 current"><a class="current reference internal" href="#">Initializer</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../utils.html#module-utils.metadata">utils.metadata Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../utils.html#module-utils.sendit">utils.sendit Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../utils.html#module-utils.visualize">utils.visualize Module</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">hst_cosmic_rays</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../utils.html">utils</a> &raquo;</li>
        
      <li>Initializer</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/api/utils.initialize.Initializer.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="initializer">
<h1>Initializer<a class="headerlink" href="#initializer" title="Permalink to this headline">¶</a></h1>
<dl class="py class">
<dt id="utils.initialize.Initializer">
<em class="property">class </em><code class="sig-prename descclassname">utils.initialize.</code><code class="sig-name descname">Initializer</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">instr</span></em>, <em class="sig-param"><span class="n">cfg</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">instr_cfg</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#utils.initialize.Initializer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Class for initializing common things used by the entire pipeline</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>instr</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Instrument to process</p></li>
<li><p><strong>cfg</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a>) – Pipeline configuration object</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Attributes Summary</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#utils.initialize.Initializer.base" title="utils.initialize.Initializer.base"><code class="xref py py-obj docutils literal notranslate"><span class="pre">base</span></code></a></p></td>
<td><p>Base path of the pipleine repository <code class="xref py py-obj docutils literal notranslate"><span class="pre">/hst_cosmic_rays/</span></code></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#utils.initialize.Initializer.cfg" title="utils.initialize.Initializer.cfg"><code class="xref py py-obj docutils literal notranslate"><span class="pre">cfg</span></code></a></p></td>
<td><p>Configuration object</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#utils.initialize.Initializer.dates" title="utils.initialize.Initializer.dates"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dates</span></code></a></p></td>
<td><p>A list of one month date intervals</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#utils.initialize.Initializer.inactive_range" title="utils.initialize.Initializer.inactive_range"><code class="xref py py-obj docutils literal notranslate"><span class="pre">inactive_range</span></code></a></p></td>
<td><p>Periods of inactivity for each instrument if they exists</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#utils.initialize.Initializer.instr" title="utils.initialize.Initializer.instr"><code class="xref py py-obj docutils literal notranslate"><span class="pre">instr</span></code></a></p></td>
<td><p>Name of the instrument that is going to be analyzed</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#utils.initialize.Initializer.instr_cfg" title="utils.initialize.Initializer.instr_cfg"><code class="xref py py-obj docutils literal notranslate"><span class="pre">instr_cfg</span></code></a></p></td>
<td><p>Instrument specific configuration object</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#utils.initialize.Initializer.previously_analyzed" title="utils.initialize.Initializer.previously_analyzed"><code class="xref py py-obj docutils literal notranslate"><span class="pre">previously_analyzed</span></code></a></p></td>
<td><p>A list of previously analyzed date ranges</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#utils.initialize.Initializer.start_date" title="utils.initialize.Initializer.start_date"><code class="xref py py-obj docutils literal notranslate"><span class="pre">start_date</span></code></a></p></td>
<td><p>Earliest possible date for any observations taken by instrument</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#utils.initialize.Initializer.stop_date" title="utils.initialize.Initializer.stop_date"><code class="xref py py-obj docutils literal notranslate"><span class="pre">stop_date</span></code></a></p></td>
<td><p>Latest possible date for any observations taken by instrument</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Methods Summary</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#utils.initialize.Initializer.get_date_ranges" title="utils.initialize.Initializer.get_date_ranges"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_date_ranges</span></code></a>()</p></td>
<td><p>Generate a list of tuples containing one month intervals</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#utils.initialize.Initializer.get_processed_ranges" title="utils.initialize.Initializer.get_processed_ranges"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_processed_ranges</span></code></a>()</p></td>
<td><p>Get the previously processed date ranges</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#utils.initialize.Initializer.initialize_HDF5" title="utils.initialize.Initializer.initialize_HDF5"><code class="xref py py-obj docutils literal notranslate"><span class="pre">initialize_HDF5</span></code></a>([chunks])</p></td>
<td><p>Create the required hdf5 files that we will write to</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#utils.initialize.Initializer.initialize_dates" title="utils.initialize.Initializer.initialize_dates"><code class="xref py py-obj docutils literal notranslate"><span class="pre">initialize_dates</span></code></a>()</p></td>
<td><p>Determine the start and stop dates of all observations</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes Documentation</p>
<dl class="py attribute">
<dt id="utils.initialize.Initializer.base">
<code class="sig-name descname">base</code><a class="headerlink" href="#utils.initialize.Initializer.base" title="Permalink to this definition">¶</a></dt>
<dd><p>Base path of the pipleine repository <code class="xref py py-obj docutils literal notranslate"><span class="pre">/hst_cosmic_rays/</span></code></p>
</dd></dl>

<dl class="py attribute">
<dt id="utils.initialize.Initializer.cfg">
<code class="sig-name descname">cfg</code><a class="headerlink" href="#utils.initialize.Initializer.cfg" title="Permalink to this definition">¶</a></dt>
<dd><p>Configuration object</p>
<dl class="simple">
<dt>Corresponds to the configuration object stored in the</dt><dd><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">cfg</span></code> attribute</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="utils.initialize.Initializer.dates">
<code class="sig-name descname">dates</code><a class="headerlink" href="#utils.initialize.Initializer.dates" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of one month date intervals</p>
</dd></dl>

<dl class="py attribute">
<dt id="utils.initialize.Initializer.inactive_range">
<code class="sig-name descname">inactive_range</code><a class="headerlink" href="#utils.initialize.Initializer.inactive_range" title="Permalink to this definition">¶</a></dt>
<dd><p>Periods of inactivity for each instrument if they exists</p>
</dd></dl>

<dl class="py attribute">
<dt id="utils.initialize.Initializer.instr">
<code class="sig-name descname">instr</code><a class="headerlink" href="#utils.initialize.Initializer.instr" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of the instrument that is going to be analyzed</p>
</dd></dl>

<dl class="py attribute">
<dt id="utils.initialize.Initializer.instr_cfg">
<code class="sig-name descname">instr_cfg</code><a class="headerlink" href="#utils.initialize.Initializer.instr_cfg" title="Permalink to this definition">¶</a></dt>
<dd><p>Instrument specific configuration object</p>
<p>Corresponds to one of the <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a> configuration object stored in the
<code class="xref py py-attr docutils literal notranslate"><span class="pre">cfg</span></code> attribute</p>
</dd></dl>

<dl class="py attribute">
<dt id="utils.initialize.Initializer.previously_analyzed">
<code class="sig-name descname">previously_analyzed</code><a class="headerlink" href="#utils.initialize.Initializer.previously_analyzed" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of previously analyzed date ranges</p>
</dd></dl>

<dl class="py attribute">
<dt id="utils.initialize.Initializer.start_date">
<code class="sig-name descname">start_date</code><a class="headerlink" href="#utils.initialize.Initializer.start_date" title="Permalink to this definition">¶</a></dt>
<dd><p>Earliest possible date for any observations taken by instrument</p>
</dd></dl>

<dl class="py attribute">
<dt id="utils.initialize.Initializer.stop_date">
<code class="sig-name descname">stop_date</code><a class="headerlink" href="#utils.initialize.Initializer.stop_date" title="Permalink to this definition">¶</a></dt>
<dd><p>Latest possible date for any observations taken by instrument</p>
</dd></dl>

<p class="rubric">Methods Documentation</p>
<dl class="py method">
<dt id="utils.initialize.Initializer.get_date_ranges">
<code class="sig-name descname">get_date_ranges</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#utils.initialize.Initializer.get_date_ranges" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a list of tuples containing one month intervals</p>
<p>For instruments that experienced failures, intervals that fall in a
period of inactivity will be automatically removed.</p>
</dd></dl>

<dl class="py method">
<dt id="utils.initialize.Initializer.get_processed_ranges">
<code class="sig-name descname">get_processed_ranges</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#utils.initialize.Initializer.get_processed_ranges" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the previously processed date ranges</p>
<p>This will be used to check if the date range in question has already
been analyzed, if it has then it will be skipped and the next
range will be tried.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>instr</strong> – </p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="utils.initialize.Initializer.initialize_HDF5">
<code class="sig-name descname">initialize_HDF5</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">chunks</span><span class="o">=</span><span class="default_value">4</span></em><span class="sig-paren">)</span><a class="headerlink" href="#utils.initialize.Initializer.initialize_HDF5" title="Permalink to this definition">¶</a></dt>
<dd><p>Create the required hdf5 files that we will write to</p>
<p>Each statistics stored in the HDF5 files will vary in size image to
image. This makes it impossible to assign a single structure and
utilize a chunked-dataset approach when writing to an HDF5 file.
Additionally, because of the large number of datasets we require many
open/close operations on each HDF5 to prevent loss of data.
For example, if we were to keep our HDF5 file open during the entire
pipeline and it faile</p>
</dd></dl>

<dl class="py method">
<dt id="utils.initialize.Initializer.initialize_dates">
<code class="sig-name descname">initialize_dates</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#utils.initialize.Initializer.initialize_dates" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine the start and stop dates of all observations</p>
<p>The ranges of dates we wish to analyze will depend on whether or not
the instrument being analyzed is an active or legacy instrument.</p>
<blockquote>
<div><ul class="simple">
<li><p>Active instruments have no defined end date, so we set this to
the current date using <a class="reference external" href="https://docs.astropy.org/en/stable/api/astropy.time.Time.html#astropy.time.Time.now" title="(in Astropy v4.0.1)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">astropy.time.Time.now()</span></code></a>
method.</p></li>
<li><p>Legacy instruments have a defined end date that corresponds to
a date when the instrument either failed or was shutdown.</p></li>
</ul>
</div></blockquote>
<p>Initializes the <a class="reference internal" href="#utils.initialize.Initializer.start_date" title="utils.initialize.Initializer.start_date"><code class="xref py py-attr docutils literal notranslate"><span class="pre">start_date</span></code></a> and
<a class="reference internal" href="#utils.initialize.Initializer.stop_date" title="utils.initialize.Initializer.stop_date"><code class="xref py py-attr docutils literal notranslate"><span class="pre">stop_date</span></code></a> attributes</p>
</dd></dl>

</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="utils.metadata.GenerateMetadata.html" class="btn btn-neutral float-right" title="GenerateMetadata" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="utils.datahandler.DataWriter.html" class="btn btn-neutral float-left" title="DataWriter" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Miles &amp; Deustua

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>